!function(t){function e(e){for(var r,a,i=e[0],u=e[1],s=e[2],b=0,f=[];b<i.length;b++)a=i[b],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);f.length;)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(c.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={0:0},c=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;c.push([78,1]),n()}({30:function(t,e){t.exports='<svg viewBox="0 0 183 122" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.842 6.82278C10.842 41.1501 10.3192 75.5272 10.3192 109.795C10.3192 111.868 10.3192 113.941 10.3192 116.015C10.3192 120.168 13.34 118.776 16.8543 118.776C21.4769 118.776 26.8034 119.595 31.2023 117.987C33.175 117.265 35.7041 117.683 37.7664 117.683C49.6069 117.683 61.4475 117.683 73.288 117.683C77.112 117.683 80.7978 116.591 84.5863 116.591C89.1078 116.591 93.6124 116.292 98.1211 116.015C105.656 115.552 113.034 114.953 120.631 114.953C134.382 114.953 148.245 115.499 162.048 115.499C167.629 115.499 173.08 116.045 178.662 116.045C180.714 116.045 180.23 114.898 180.23 113.041C180.23 112.316 179.84 109.786 179.417 109.219C177.702 106.916 178.139 102.782 178.139 99.9043C178.139 95.8374 178.047 91.9059 177.645 87.9202C176.663 78.1708 176.048 68.6911 176.048 58.8247C176.048 53.7581 175.525 48.6598 175.525 43.7156C175.525 41.0558 175.525 38.3961 175.525 35.7363C175.525 32.6447 174.479 29.69 174.479 26.5131C174.479 20.1722 174.479 13.8312 174.479 7.49024C174.479 5.91952 175.285 3 173.318 3C171.652 3 169.987 3 168.322 3C163.594 3 159.065 3.67039 154.381 4.06188C151.625 4.29217 148.941 4.2526 146.219 4.60799C143.709 4.93575 141.184 5.73055 138.638 5.73055C111.022 5.73055 83.3445 6.27667 55.8031 6.27667C44.3748 6.27667 32.7935 6.82278 21.2981 6.82278C15.0361 6.82278 9.28815 7.915 3 7.915" stroke="black" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},31:function(t,e){t.exports='<svg viewBox="0 0 852 586" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M40.5418 22.5941C40.5418 194.127 38.0483 365.909 38.0483 537.145C38.0483 547.504 38.0483 557.864 38.0483 568.224C38.0483 588.981 52.456 582.02 69.2174 582.02C91.265 582.02 116.67 586.115 137.651 578.078C147.06 574.474 159.122 576.562 168.959 576.562C225.432 576.562 281.906 576.562 338.38 576.562C356.619 576.562 374.198 571.104 392.268 571.104C413.833 571.104 435.318 569.608 456.823 568.224C492.761 565.91 527.95 562.918 564.183 562.918C629.772 562.918 695.889 565.647 761.726 565.647C788.341 565.647 814.34 568.375 840.965 568.375C850.754 568.375 848.445 562.644 848.445 553.366C848.445 549.741 846.582 537.1 844.566 534.264C836.388 522.757 838.471 502.099 838.471 487.721C838.471 467.399 838.032 447.753 836.116 427.837C831.43 379.119 828.497 331.749 828.497 282.447C828.497 257.129 826.004 231.653 826.004 206.947C826.004 193.656 826.004 180.365 826.004 167.075C826.004 151.626 821.016 136.861 821.016 120.986C821.016 89.3007 821.016 57.6151 821.016 25.9295C821.016 18.0806 824.858 3.49179 815.475 3.49179C807.533 3.49179 799.591 3.49179 791.648 3.49179C769.099 3.49179 747.499 6.8417 725.154 8.798C712.011 9.94873 699.209 9.75101 686.227 11.5269C674.255 13.1647 662.212 17.1363 650.071 17.1363C518.355 17.1363 386.345 19.8652 254.985 19.8652C200.478 19.8652 145.24 22.5941 90.4124 22.5941C60.5457 22.5941 33.1305 28.052 3.13889 28.052" stroke="black" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},57:function(t,e){},60:function(t,e,n){},61:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var r=n(0),o=(n(15),n(33)),c=n(3),a=n(1),i=n(2),u=n(8),s=n.n(u),l=(n(60),function(t){var e=t.className,n=t.icon,o=t.onClick,c=t.alt,a=t.disabled;return Object(r.h)("button",{disabled:a,onClick:o,className:"transparent-btn ".concat(e||"")},Object(r.h)("img",{src:n,alt:c}))}),b=(n(61),function(t){var e=t.className,n=t.placeholder,o=t.onChange,c=t.val,a=t.onKeyPress;return Object(r.h)("input",{value:c,onChange:o,onKeyPress:a,placeholder:n||"",type:"text",className:"input ".concat(e||"")})}),f=n.p+"5a66160ed95442b89ee5714945383528.svg";n(62);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,c=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var y=function(t){var e=t.socket,n=t.addMsg,o=t.lobbyId,c=h(Object(a.j)(""),2),u=c[0],s=c[1],d=Object(i.b)("user").user,y=function(){var t={sender:d,msg:u,lobbyId:o};n(t),e.emit("newMessage",t),s("")};return Object(r.h)("div",{className:"chat-controls"},Object(r.h)(b,{onKeyPress:function(t){"Enter"===t.key&&y()},onChange:function(t){s(t.target.value)},val:u,className:"chat-controls__input"}),Object(r.h)(l,{disabled:u.length<1,icon:f,alt:"отправить сообщение",onClick:y}))},p=n(30),m=n.n(p),v=function(t){for(var e=t.split(""),n=!1,r=!1,o=0;!n;)">"===e[o]&&(o=(e=e.slice(o+1)).length-1,n=!0),o++;for(;!r;)"<"===e[o]&&(e=e.slice(0,o),r=!0),o--;return e.join("")};function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,c=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var O=function(t){var e=g(t.match(/viewBox="(.*?)\"/)[0].replace('viewBox="',"").replace('"',"").split(" "),4),n=(e[0],e[1],e[2]),r=e[3];return{svgWidth:Number(n),svgHeight:Number(r)}},w=function(t){var e=t.rawSvg,n=t.clipPathId,o=t.containerWidth,c=t.containerHeight,a=O(e),i=a.svgWidth,u=a.svgHeight,s={__html:v(e)},l="scale(".concat(o/i," ").concat(c/u,")");return Object(r.h)("svg",{className:"svg--clip",width:o,height:c,viewBox:"0 0 ".concat(o," ").concat(c),fill:"none",xmlns:"http://www.w3.org/2000/svg"},n&&Object(r.h)("clipPath",{id:n,transform:l,dangerouslySetInnerHTML:s}),Object(r.h)("g",{transform:l,dangerouslySetInnerHTML:s}))},C=(n(63),function(t){var e=t.className,n=t.svg,o=t.width,c=t.height,a=n.replace(/width=\"(.*?)\"/,'width="'.concat(o,'"')).replace(/height=\"(.*?)\"/,'height="'.concat(c,'"')),i={width:"".concat(o,"px"),height:"".concat(c,"px")};return Object(r.h)("div",{style:i,className:"avatar ".concat(e||"")},Object(r.h)(w,{rawSvg:m.a,containerWidth:o+10,containerHeight:c+5}),Object(r.h)("div",{dangerouslySetInnerHTML:{__html:a}}))});n(64);function _(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||N(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,c=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(t,e)||N(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){if(t){if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var k=function(t){var e=t.className,n=t.lobbyId,o=S(Object(a.j)(void 0),2),c=o[0],i=o[1],u=S(Object(a.j)([]),2),l=u[0],b=u[1],f=function(t){b([].concat(_(l),[t]))};Object(a.d)((function(){i(s()("https://crocodile-api.herokuapp.com/getMessages/chat")),fetch("https://crocodile-api.herokuapp.com/getMessages/?currentLobbyId=".concat(n),{mode:"cors"}).then((function(t){return t.json()})).then((function(t){return b(t)}))}),[]),Object(a.d)((function(){return function(){c&&c.disconnect()}}),[]),Object(a.d)((function(){c&&c.on("newMessage",(function(t){f(t)}))}),[l]);return Object(r.h)("div",{className:"chat ".concat(e||"")},Object(r.h)("div",{className:"chat-msgs"},l.map((function(t){var e=t.sender,n=e.name,o=e.avatar,c=t.msg;return Object(r.h)("div",{className:"chat-msgs-msg"},Object(r.h)(C,{width:120,height:82,svg:o,className:"chat-msgs-msg__avatar"}),Object(r.h)("p",{className:"chat-msgs-msg__paragraph"},n,": "),Object(r.h)("p",{className:"chat-msgs-msg__paragraph"},c))}))),Object(r.h)(y,{socket:c,addMsg:f,lobbyId:n}))},x=n.p+"53e828e6a24a3bd4b915421c44eeda74.svg",A=(n(65),function(t){var e=t.condition,n=t.children;return e?n:Object(r.h)("div",{className:"loader"},Object(r.h)("img",{className:"loader__clock",src:x}),Object(r.h)("p",{className:"loader__paragraph"},"загрузка"))}),P=(n(66),function(t){var e=t.onClick,n=t.icon,o=t.text;return Object(r.h)("button",{onClick:e,className:"left-corner-btn"},Object(r.h)("img",{src:n}),Object(r.h)("p",{className:"left-corner-btn__paragraph"},o))}),L=n.p+"6e491136000124ae495cc5f562e36a3d.svg",T=n.p+"24a88b1130550750c5be9ed002adcc8b.svg",M=function(t){var e=t.hasExitIcon,n=e?T:L,o=e?"выйти":"назад";if(e)return Object(r.h)(c.a,{href:"/"},Object(r.h)(P,{text:o,icon:n}));return Object(r.h)(P,{onClick:function(){return window.history.back()},text:o,icon:n})},E=(n(67),function(t){var e=t.className,n=t.text,o=t.onClick,c=t.disabled;return Object(r.h)("button",{disabled:c,onClick:o,className:"btn ".concat(e||"")},n)}),D=function(t){var e=t.containerClass,n=t.icon,o=t.name,c=t.isCrowned,a="".concat(e,"-player"),i="".concat(a,"__icon"),u="".concat(a,"__name"),s="".concat(a,"--crown");return Object(r.h)("div",{className:"".concat(a," ").concat(c?s:"")},Object(r.h)(C,{width:162,height:111,svg:n,className:i}),Object(r.h)("p",{className:u},o))},H=function(t){var e=t.players,n=t.isLobby,o=t.crownedPlayerId,c=n?"lobby-players":"game-players";return Object(r.h)("div",{className:c},e.map((function(t){var e=t.avatar,n=t.name,a=t.id;return Object(r.h)(D,{containerClass:c,isCrowned:!!o&&o===a,icon:e,name:n,key:a})})))},U=function(t){return function(e){var n=Object(i.b)("user").user;return Object(a.d)((function(){n.id||Object(c.c)("/onboarding")}),[]),Object(r.h)(t,e)}};n(68);function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,c=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $=U((function(){var t=Object(i.b)("currentLobby"),e=t.currentLobby,n=t.dispatch,o=Object(i.b)("user").user,u=B(Object(a.j)(void 0),2),l=u[0],b=u[1],f=function(){b(s()("https://crocodile-api.herokuapp.com/getMessages/lobby"))};Object(a.d)((function(){l&&(function(){var t=o.id,r=e.players,c=e.hostId,a=e.id;r.find((function(e){var n=e.id;return t===n}))||(l.emit("newPlayer",{user:o,lobbyId:a}),n("currentLobby/@addPlayer",o)),c||(l.emit("newHost",{userId:t,lobbyId:a}),n("currentLobby/@setHostId",t)),l.on("newPlayer",(function(t){var e=t.user;t.lobbyId===a&&n("currentLobby/@addPlayer",e)})),l.on("playerLeft",(function(t){var e=t.userId;t.lobbyId===a&&n("currentLobby/@removePlayer",e)})),l.on("newHost",(function(t){var e=t.userId;t.lobbyId===a&&n("currentLobby/@setHostId",e)}))}(),function(){var t=e.players,r=e.hostId,o=e.id;if(!t.find((function(t){return t.id===r}))&&t.length>0){var c=t[0].id;l.emit("newHost",{userId:c,lobbyId:o}),n("currentLobby/@setHostId",c)}}())}),[l]),Object(a.d)((function(){var t;e.id?f():(t=window.location.href.split("/lobby/")[1],fetch("https://crocodile-api.herokuapp.com/getLobby",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lobbyId:t}),mode:"cors"}).then((function(t){return t.json()})).then((function(t){return t||Object(c.c)("/404"),t})).then((function(t){return n("currentLobby/@load",t)})).then((function(){f()})).catch((function(){return Object(c.c)("/404")})))}),[]),Object(a.d)((function(){return function(){if(l){var t=o.id,r=e.players,c=e.id;l.emit("playerLeft",{userId:t,lobbyId:c}),0===r.length&&l.emit("destroyLobby",c),l.disconnect(),n("currentLobby/@reset")}}}),[l]);var h=e.players,d=e.hostId,y=e.id;return Object(r.h)(A,{condition:y},Object(r.h)("div",{className:"lobby slide-left"},Object(r.h)(M,{hasExitIcon:!0}),Object(r.h)("div",{className:"lobby-inner"},Object(r.h)("div",{className:"lobby-inner__small-col"},h&&Object(r.h)(H,{players:h,crownedPlayerId:d,isLobby:!0}),o.id===d&&Object(r.h)("div",{className:"lobby-inner__start"},Object(r.h)(E,{onClick:function(){},text:"начать"}))),Object(r.h)("div",{className:"lobby-inner__big-col"},Object(r.h)(k,{lobbyId:y})))))})),J=(n(69),function(t){var e=t.showHighlight,n=Object(i.b)("user").user,o=n.name,a=n.avatar;return Object(r.h)(c.a,{href:"/settings"},Object(r.h)("button",{className:"settings-icon ".concat(e?"settings-icon--highlight":"")},Object(r.h)(C,{width:162,height:111,className:"settings-icon__avatar",svg:a,hasBorder:!0}),Object(r.h)("p",{className:"settings-icon__name"},o)))});n(70);n.p,n.p;var R=n.p+"4f9ee38dc02b460ed340d498a924e9b2.svg",K=(n.p,n(71),U((function(){var t=Object(i.b)("currentLobby").dispatch;return Object(r.h)("main",{className:"main"},Object(r.h)(J,null),Object(r.h)("div",{className:"main__slide"},Object(r.h)("div",{className:"main__content-wrapper main__content-wrapper--croco"},Object(r.h)("div",{className:"main-title-wrapper"},Object(r.h)("h2",{className:"main__headline"},"крокодил"),Object(r.h)("img",{src:R,className:"main__illustration main__illustration--croco",alt:"счастливый крокодил"})),Object(r.h)("p",{className:"main__paragraph"},"угадай слово по рисунку!"),Object(r.h)(E,{onClick:function(){var e;e="croco",fetch("https://crocodile-api.herokuapp.com/createLobby",{method:"POST",headers:{"Content-Type":"application/json",mode:"no-cors"},body:JSON.stringify({gameType:e}),mode:"cors"}).then((function(t){return t.json()})).then((function(e){return t("currentLobby/@load",e),e.id})).then((function(t){return Object(c.c)("/lobby/".concat(t))}))},className:"main__btn btn--huge-padding",text:"играть"}))))}))),z=(n(72),function(t){var e=t.color,n=t.className,o=t.onClick,c=t.htmlId,a={"background-color":"".concat(e)};return Object(r.h)("div",{className:n||""},Object(r.h)("input",{id:c,name:"color",onClick:o,type:"radio",className:"color-btn"}),Object(r.h)("label",{for:c,className:"color-btn__label",style:a}))}),F=n.p+"5baa670f6ad1756d8672d23a1dad253e.svg",X=n.p+"028fd4d7e507a7129ed3a884552b6f7c.svg",Y=n.p+"29a511ee34d0ab385895b91db2ffd977.svg",q=n(31),G=n.n(q),Q=function(t,e){return Object.keys(t).reduce((function(n,r){var o=t[r];return n[r]="".concat(o).concat(e),n}),{})};function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,c=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nt=function(t){return function(e){var n=function(){return{width:Math.trunc(.5*window.innerWidth),height:Math.trunc(.5*window.innerWidth/1.35)}},o=tt(Object(a.j)(n()),2),c=o[0],i=o[1];Object(a.d)((function(){window.addEventListener("resize",(function(){i(n())}))}),[]);var u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({wrapperSizes:c},e);return Object(r.h)(t,u)}};n(73);function rt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,c=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ct=nt((function(t){var e=t.hasColorpicker,n=t.hasClearBtn,o=t.hasLineThickness,c=t.hasBorder,u=t.drawingBlocked,s=t.initialImage,b=t.wrapperSizes,f=rt(Object(a.j)(!1),2),h=f[0],d=f[1],y=Object(i.b)("ctx").dispatch,p=Object(a.i)(null),m=Object(a.i)(null),v=Object(a.i)(null),g=[{width:15,icon:F},{width:45,icon:X}],j=["#000000","#F30000","#1200E7","#39DD00","#FFE600","#823E00"],O=rt(Object(a.j)(j[0]),2),C=O[0],_=O[1],S=rt(Object(a.j)(g[0].width),2),N=S[0],I=S[1],k=function(t){t.current.width=v.current.clientWidth,t.current.height=v.current.clientHeight},x=function(){var t=p.current.getContext("2d");t.lineWidth=N,t.strokeStyle=C},A=function(t){t.rect(0,0,v.current.clientWidth,v.current.clientHeight),t.fillStyle="#f2f2f2",t.fill(),t.fillStyle="#000000"},P=function(t){var e=new Image;e.src=s,e.onload=function(){t.drawImage(e,0,0)},y("ctx/@set",s)};Object(a.d)((function(){var t=p.current.getContext("2d"),e=m.current.getContext("2d");k(p),k(m),A(t),x(),s&&(P(t),P(e))}),[]),Object(a.d)((function(){var t=m.current.getContext("2d"),e=p.current.getContext("2d");t.drawImage(p.current,0,0,p.current.width,p.current.height),e.save(),k(p),A(e),e.drawImage(m.current,0,0,m.current.width,m.current.height),k(m),x()}),[window.innerWidth,window.innerHeight]);var L=function(){if(!u){var t=p.current.getContext("2d");t.lineCap="round",d(!0),t.beginPath()}},T=function(){var t=p.current.toDataURL("image/jpeg");y("ctx/@set",t),d(!1)},M=function(t){if(h){var e,n,r=p.current.getContext("2d"),o=v.current.getBoundingClientRect();"mousemove"===t.type?(e=t.clientX-o.left,n=t.clientY-o.top):"touchmove"===t.type&&(e=t.touches[0].clientX-o.left,n=t.touches[0].clientY-o.top),r.lineTo(e,n),r.stroke(),r.beginPath(),r.arc(e,n,1,0,2*Math.PI),r.beginPath(),r.moveTo(e,n)}},E=c?Q(b,"px"):{width:"100%",height:"100vh"};return Object(r.h)("div",{className:"canvas__wrapper",style:E,ref:v,onTouchStart:L,onTouchMove:M,onTouchEnd:T,onTouchCancel:T,onMouseDown:L,onMouseMove:M,onMouseUp:T,onMouseOut:T},Object(r.h)("canvas",{className:"".concat(c?"canvas--clip":""),ref:p}),Object(r.h)("canvas",{className:"".concat(c?"canvas--clip":""," canvas--fake"),ref:m}),!1,c&&Object(r.h)(w,{rawSvg:G.a,clipPathId:"border",containerWidth:b.width,containerHeight:b.height}),Object(r.h)("div",{className:"canvas-toolbar"},e&&Object(r.h)("div",{id:"color-btns",className:"canvas-toolbar__section"},j.map((function(t,e){return Object(r.h)(z,{key:e,htmlId:"color-btn-".concat(e+1),className:"canvas-toolbar__element",color:t,onClick:function(){return function(t){var e=p.current.getContext("2d");_(t),e.strokeStyle=t}(t)}})}))),o&&Object(r.h)("div",{className:"canvas-toolbar__section"},g.map((function(t,e){var n=t.width,o=t.icon;return Object(r.h)(l,{key:e,className:"canvas-toolbar__element",icon:o,alt:"толщина линии",onClick:function(){return t=n,e=p.current.getContext("2d"),I(t),void(e.lineWidth=t);var t,e}})}))),n&&Object(r.h)("div",{className:"canvas-toolbar__section"},Object(r.h)(l,{className:"canvas-toolbar__element",icon:Y,onClick:function(){var t=p.current.getContext("2d");t.clearRect(0,0,v.current.clientWidth,v.current.clientWidth),A(t),y("ctx/@clear")}}))))}));function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ut=function(t){return function(e){var n=Object(i.b)("user"),o=n.user.name,c=n.dispatch,a=Object(i.b)("ctx").ctx,u={emptyCanvasError:!a,blankNameError:o.trim().length<1},s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){it(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{createUser:function(){return fetch("http://crocodile-api.herokuapp.com/createUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({img:a}),mode:"cors"}).then((function(t){return t.json()})).then((function(t){return function(t,e){var n={name:o,avatar:t,jpegAvatar:a,id:e};localStorage.setItem("krivieRukiUserData",JSON.stringify(n)),c("user/@setUserData",n)}(t.svg,t.id)}))},updateName:function(t){t.target.value.length<16?c("user/@setname",t.target.value):t.target.value=o},name:o,ctx:a},u);return Object(r.h)(t,s)}};n(74);function st(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,c=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bt=ut((function(t){var e=t.createUser,n=t.updateName,o=t.name,i=t.emptyCanvasError,u=t.blankNameError,s=st(Object(a.j)(1),2),l=s[0],f=s[1],h=st(Object(a.j)(!1),2),d=h[0],y=h[1],p=function(){return f(l+1)},m=function(){y(!0),e().then((function(){return p()})).then((function(){return y(!1)}))};return Object(r.h)(A,{condition:!d},Object(r.h)("div",{className:"onboarding"},1===l&&Object(r.h)("h1",{className:"onboarding__headline"},"привет! нарисуй аватарку"),(1===l||2===l)&&Object(r.h)(ct,{hasBorder:!0,hasClearBtn:1===l,drawingBlocked:2===l}),1===l&&Object(r.h)(E,{disabled:i,onClick:p,className:"btn--big-padding onboarding__btn",text:"продолжить"}),2===l&&Object(r.h)(r.b,null,Object(r.h)("p",{className:"onboarding__paragraph"},"придумай никнейм"),Object(r.h)("div",{className:"onboarding-wrapper"},Object(r.h)(b,{onKeyPress:function(t){"Enter"===t.key&&m()},onChange:n,val:o,placeholder:"твой ник",className:"onboarding-wrapper__input"}),Object(r.h)(E,{disabled:u,onClick:m,text:"ок"}))),3===l&&Object(r.h)("div",{className:"onboarding-floating"},Object(r.h)(J,{showHighlight:!0}),Object(r.h)("div",{className:"onboarding-floating__alert"},Object(r.h)("p",{className:"onboarding-floating__paragraph"},"можно поменять ",Object(r.h)("br",null)," между матчами"),Object(r.h)(E,{onClick:function(){Object(c.c)("/")},text:"ок"})))))})),ft=n.p+"2530a6ef84e33cf5c5f63d83647764f0.svg",ht=(n(75),function(t){var e=t.text,n=t.btnText,o=t.onClick,c=ft,a=n&&o;return Object(r.h)("div",{className:"system-message"},Object(r.h)("img",{className:"system-message__pic",src:c}),Object(r.h)("p",{className:"system-message__paragraph"},e),a&&Object(r.h)(E,{className:"system-message__btn",text:n,onClick:o}))});n(76);function dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,c=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return yt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pt=U(ut((function(t){var e=t.createUser,n=t.updateName,o=t.name,u=t.emptyCanvasError,s=t.blankNameError,l=Object(i.b)("user").user.jpegAvatar,f=dt(Object(a.j)(!1),2),h=f[0],d=f[1],y=dt(Object(a.j)(!1),2),p=y[0],m=y[1],v=u||s;return Object(r.h)("div",{className:"settings slide-left"},h&&Object(r.h)((function(){return Object(r.h)(ht,{text:"не получилось обновить данные",btnText:"попробовать ещё",onClick:function(){return d(!1)}})}),null),p&&Object(r.h)((function(){return Object(r.h)(ht,{text:"успех!",btnText:"на главную",onClick:function(){return Object(c.c)("/")}})}),null),Object(r.h)(M,null),Object(r.h)(ct,{hasClearBtn:!0,initialImage:l,className:"settings__canvas",hasBorder:!0}),Object(r.h)(b,{onChange:n,val:o,placeholder:"твой ник",className:"settings__input"}),Object(r.h)(E,{disabled:v,onClick:function(){e().then((function(){return m(!0)})).catch((function(){return d(!0)}))},text:"сохранить",className:"btn--big-padding"}))}))),mt=(n(77),function(){return Object(r.h)(ht,{text:"404 :)",btnText:"на главную",onClick:function(){return Object(c.c)("/")}})}),vt=function(){return Object(r.h)(c.b,{history:Object(o.a)()},Object(r.h)(pt,{path:"/settings"}),Object(r.h)($,{path:"/lobby/:id"}),Object(r.h)(K,{path:"/"}),Object(r.h)(bt,{path:"/onboarding"}),Object(r.h)(mt,{path:"/404"}))},gt=n(32),jt=function(){var t=localStorage.getItem("krivieRukiUserData");return t?JSON.parse(t):{name:"",avatar:"",jpegAvatar:"",id:""}};function Ot(t){return function(t){if(Array.isArray(t))return wt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){St(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function St(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nt=Object(gt.a)([function(t){t.on("@init",(function(){return{ctx:void 0}})),t.on("ctx/@set",(function(t,e){return{ctx:e}})),t.on("ctx/@clear",(function(){return{ctx:void 0}}))},function(t){t.on("@init",(function(){return{user:jt()}})),t.on("user/@setUserData",(function(t,e){return{user:e}})),t.on("user/@setname",(function(t,e){return{user:_t({},t.user,{name:e})}}))},function(t){t.on("@init",(function(){return{currentLobby:{id:void 0,gameType:void 0,players:[],hostId:void 0}}})),t.on("currentLobby/@load",(function(t,e){return{currentLobby:e}})),t.on("currentLobby/@reset",(function(){return{currentLobby:{id:void 0,gameType:void 0,players:[],hostId:void 0}}})),t.on("currentLobby/@addPlayer",(function(t,e){var n=t.currentLobby;return{currentLobby:_t({},n,{players:[].concat(Ot(n.players),[e])})}})),t.on("currentLobby/@removePlayer",(function(t,e){var n=t.currentLobby;return{currentLobby:_t({},n,{players:n.players.filter((function(t){var n=t.id;return e!==n}))})}})),t.on("currentLobby/@setHostId",(function(t,e){return{currentLobby:_t({},t.currentLobby,{hostId:e})}}))}]);Object(r.k)(Object(r.h)(i.a.Provider,{value:Nt},Object(r.h)(vt,null)),document.body,document.body.lastElementChild)}});